<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundTrack Travel - Internal Demo</title>
    <style>
        :root {
            --primary: #6366f1; --accent: #ec4899; --bg: #0f172a;
            --card-bg: #1e293b; --text: #f8fafc; --text-muted: #94a3b8;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .btn {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border: none; color: white; padding: 12px 24px; border-radius: 25px;
            cursor: pointer; font-weight: bold; transition: transform 0.2s; width: 100%;
        }
        .btn:hover { transform: scale(1.02); opacity: 0.9; }
        .hidden { display: none; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #334155; margin-bottom: 30px; }
        .logo { font-size: 1.5rem; font-weight: 800; }
        .logo span { color: var(--accent); }
        .concert-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .event-card { background-color: var(--card-bg); border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        .card-img { height: 180px; background-size: cover; background-position: center; position: relative; }
        .date-badge { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.8); padding: 5px 10px; border-radius: 8px; font-size: 0.8rem; }
        .card-body { padding: 20px; }
        .planner-header { background: linear-gradient(to right, var(--card-bg), var(--bg)); padding: 30px; border-radius: 15px; margin-bottom: 30px; border-left: 5px solid var(--accent); }
        .travel-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .travel-card { background: var(--card-bg); padding: 20px; border-radius: 12px; border: 1px solid #334155; }
        .mock-input { background: #0f172a; border: 1px solid #475569; padding: 10px; border-radius: 8px; margin-bottom: 10px; color: #cbd5e1; font-size: 0.85rem; display: flex; justify-content: space-between; }
        .insights-section { background: rgba(99, 102, 241, 0.1); padding: 25px; border-radius: 12px; }
        .tag { background: var(--primary); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; margin-right: 8px; display: inline-block; margin-top: 10px;}
    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="logo">SoundTrack<span>Travel</span></div>
        <div style="font-size: 0.9rem; color: var(--text-muted);">Origin: <strong>Singapore (SIN)</strong></div>
    </header>

    <div id="discovery-view">
        <h2>Recommended For You</h2>
        <div class="concert-grid" id="events-container"></div>
    </div>

    <div id="planner-view" class="hidden">
        <div onclick="toggleView()" style="cursor:pointer; color:var(--text-muted); margin-bottom:20px;">‚Üê Back to Events</div>
        <div class="planner-header">
            <h1 id="plan-title"></h1>
            <p id="plan-subtitle"></p>
        </div>

        <div class="travel-grid">
            <div class="travel-card">
                <h3>‚úàÔ∏è Flights</h3>
                <div class="mock-input"><span>From: <strong>SIN</strong></span><span id="f-date-out"></span></div>
                <div class="mock-input"><span>To: <strong id="f-dest"></strong></span><span id="f-date-ret"></span></div>
                <button class="btn" onclick="handleCTAClick('flights')">Search Flights</button>
            </div>

            <div class="travel-card">
                <h3>üè® Hotels</h3>
                <div class="mock-input"><span id="h-loc"></span></div>
                <div class="mock-input"><span>Check-in:</span><span id="h-date"></span></div>
                <button class="btn" onclick="handleCTAClick('hotels')">Search Hotels</button>
            </div>

            <div class="travel-card">
                <h3>üöó Cars</h3>
                <div class="mock-input"><span>Pick-up: <strong id="c-loc"></strong></span></div>
                <div class="mock-input"><span>Time:</span><strong>10:00 AM</strong></div>
                <button class="btn" onclick="handleCTAClick('cars')">Search Cars</button>
            </div>
        </div>

        <div class="insights-section">
            <h3>üí° Local Insights</h3>
            <p id="insight-text"></p>
            <div id="insight-tags"></div>
        </div>
    </div>
</div>

<script>
    const ORIGIN = "SIN";
    const events = [
        { id: 1, artist: "Coldplay", city: "Tokyo", code: "NRT", venue: "Tokyo Dome", date: "2025-11-12", img: "https://images.unsplash.com/photo-1459749411177-0473ef7169ac?auto=format&fit=crop&w=800&q=80", insight: "Stay in Bunkyo for easy access to the venue.", tags: ["Food", "Safe", "Metro"] },
        { id: 2, artist: "Taylor Swift", city: "London", code: "LHR", venue: "Wembley", date: "2025-08-15", img: "https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?auto=format&fit=crop&w=800&q=80", insight: "The Tube runs late on show nights.", tags: ["Pubs", "History"] },
        { id: 3, artist: "The Weeknd", city: "Paris", code: "CDG", venue: "Stade de France", date: "2025-07-22", img: "https://images.unsplash.com/photo-1502602898657-3e91760cbb34?auto=format&fit=crop&w=800&q=80", insight: "Grab dinner in Montmartre before heading out.", tags: ["Art", "Wine"] },
        { id: 4, artist: "Bad Bunny", city: "Miami", code: "MIA", venue: "Hard Rock", date: "2025-09-10", img: "https://images.unsplash.com/photo-1535498730771-e735b998cd64?auto=format&fit=crop&w=800&q=80", insight: "Expect heavy traffic near the stadium.", tags: ["Beaches", "Clubs"] },
        { id: 5, artist: "BTS", city: "Seoul", code: "ICN", venue: "Olympic Stadium", date: "2025-10-05", img: "https://images.unsplash.com/photo-1538485399081-7191377e8241?auto=format&fit=crop&w=800&q=80", insight: "Purchase a T-money card at the airport.", tags: ["BBQ", "Culture"] },
        { id: 6, artist: "Adele", city: "Las Vegas", code: "LAS", venue: "Caesars", date: "2025-12-30", img: "https://images.unsplash.com/photo-1605833556294-ea5c7a94f394?auto=format&fit=crop&w=800&q=80", insight: "Book the High Roller for a night view.", tags: ["Luxury", "Casinos"] },
        { id: 7, artist: "Ed Sheeran", city: "Melbourne", code: "MEL", venue: "MCG", date: "2026-02-14", img: "https://images.unsplash.com/photo-1514395465013-2dc046652fd8?auto=format&fit=crop&w=800&q=80", insight: "The MCG is massive; arrive 2 hours early.", tags: ["Coffee", "Art"] },
        { id: 8, artist: "Dua Lipa", city: "Barcelona", code: "BCN", venue: "Palau Sant Jordi", date: "2025-06-20", img: "https://images.unsplash.com/photo-1583422409516-2895a77efded?auto=format&fit=crop&w=800&q=80", insight: "Walk around Montju√Øc before the show.", tags: ["Architecture", "Sun"] },
        { id: 9, artist: "Metallica", city: "Berlin", code: "BER", venue: "Olympiastadion", date: "2025-05-18", img: "https://images.unsplash.com/photo-1560969184-10fe8719e047?auto=format&fit=crop&w=800&q=80", insight: "Explore the Mauerpark Flea Market.", tags: ["Beer", "Techno"] }
    ];

    let activeEvent = null;

    const formatters = {
        forFlights: (d) => new Date(d).toISOString().slice(2,10).replace(/-/g, ''), // YYMMDD
        forHotels: (d) => new Date(d).toISOString().slice(0, 10), // YYYY-MM-DD
        forCars: (d) => new Date(d).toISOString().slice(0, 10) + "T10:00", // YYYY-MM-DDT10:00
        forDisplay: (d) => new Date(d).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })
    };

    function renderDiscovery() {
        document.getElementById('events-container').innerHTML = events.map(e => `
            <div class="event-card">
                <div class="card-img" style="background-image:url('${e.img}')"><div class="date-badge">${formatters.forDisplay(e.date)}</div></div>
                <div class="card-body">
                    <h3>${e.artist}</h3><p>${e.venue}, ${e.city}</p>
                    <button class="btn" onclick="openPlanner(${e.id})">Plan Travel</button>
                </div>
            </div>
        `).join('');
    }

    function openPlanner(id) {
        activeEvent = events.find(e => e.id === id);
        const depDate = new Date(activeEvent.date); depDate.setDate(depDate.getDate() - 1);
        const retDate = new Date(activeEvent.date); retDate.setDate(retDate.getDate() + 1);

        document.getElementById('plan-title').innerText = `Trip to ${activeEvent.city}`;
        document.getElementById('plan-subtitle').innerText = `Seeing ${activeEvent.artist} @ ${activeEvent.venue}`;
        document.getElementById('f-dest').innerText = activeEvent.code;
        document.getElementById('f-date-out').innerText = formatters.forDisplay(depDate);
        document.getElementById('f-date-ret').innerText = formatters.forDisplay(retDate);
        document.getElementById('h-loc').innerText = `Hotels near ${activeEvent.venue}`;
        document.getElementById('h-date').innerText = formatters.forDisplay(depDate);
        document.getElementById('c-loc').innerText = `${activeEvent.code} Airport`;
        document.getElementById('insight-text').innerText = activeEvent.insight;
        document.getElementById('insight-tags').innerHTML = activeEvent.tags.map(t => `<span class="tag">${t}</span>`).join('');

        toggleView();
    }

    function handleCTAClick(type) {
        const dep = new Date(activeEvent.date); dep.setDate(dep.getDate() - 1);
        const ret = new Date(activeEvent.date); ret.setDate(ret.getDate() + 1);
        let url = '';

        if (type === 'flights') {
            url = `https://www.skyscanner.net/transport/flights/${ORIGIN}/${activeEvent.code}/${formatters.forFlights(dep)}/${formatters.forFlights(ret)}`;
        } else if (type === 'hotels') {
            url = `https://www.skyscanner.net/hotels/${activeEvent.city}-hotels/checkin/${formatters.forHotels(dep)}/checkout/${formatters.forHotels(ret)}?guests=2`;
        } else if (type === 'cars') {
            url = `https://www.skyscanner.net/car-hire-search/${activeEvent.code}/${formatters.forCars(dep)}/${formatters.forCars(ret)}`;
        }
        window.open(url, '_blank');
    }

    function toggleView() {
        document.getElementById('discovery-view').classList.toggle('hidden');
        document.getElementById('planner-view').classList.toggle('hidden');
        window.scrollTo(0,0);
    }

    renderDiscovery();
</script>
</body>
</html>
